<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<th:block th:insert="~{/common-template :: link}"></th:block>
<th:block th:insert="~{/common-template :: head/script}"></th:block>
<title>Chi Tiết Nhân Viên</title>

</head>
<body>
	<section id="container">
		<th:block th:insert="~{/common-template :: header-fragment}"></th:block>
		<th:block th:insert="~{/admin-template :: side-menu}"></th:block>
		<section id="main-content">
			<section class="wrapper">
			<h4 style="color: black">Nhân Viên <i class="fa fa-angle-right"></i>Chi Tiết Nhân Viên  </h4>
            <div class="form-panel">
              <div class="form">
                <form class="cmxform form-horizontal style-form" id="signupForm" method="POST" th:action="@{/admin/staff-update}" onsubmit="return isFormChange(this)">
                  <div class="form-group ">
                    <label for="firstname" class="control-label col-lg-2">Họ và Tên</label>
                    <div class="col-lg-10">
                      <input class=" form-control" id="fname" name="fullname" type="text" th:value="${staff.fullName}" required/>
                    </div>
                  </div>
                  <div class="form-group ">
                    <label for="lastname" class="control-label col-lg-2">Địa Chỉ</label>
                    <div class="col-lg-10">
                      <input class=" form-control" id="address" name="address" type="text" th:value="${staff.address}" required/>
                    </div>
                  </div>
                   <div class="form-group ">
                    <label for="lastname" class="control-label col-lg-2">SĐT</label>
                    <div class="col-lg-10">
                      <input class=" form-control" id="phonenum" name="phonenum" type="text" th:value="${staff.phoneNum}" required />
                    </div>
                  </div>
                    <div class="form-group ">
                    <label for="lastname" class="control-label col-lg-2">Ngày Sinh</label>
                    <div class="col-lg-10">
                      <input class=" form-control" id="dob" name="dob" type="date" th:value ="${staff.dob}" required/>
                    </div>
                  </div>
                  <div class="form-group ">
                    <label for="username" class="control-label col-lg-2">Tên Đăng Nhập</label>
                    <div class="col-lg-10">
                      <input class="form-control " id="username" name="username" type="text" th:value="${staff.user.userName}" readonly/>
                    </div>
                  </div>
                  <div class="form-group ">
                    <label for="password" class="control-label col-lg-2">Mật Khẩu</label>
                    <div class="col-lg-10">
                      <input class="form-control " id="password" name="password" type="text" th:value ="${staff.user.encrytedPassword}" readonly/>
                    </div>
                  </div>
                  <input type="hidden" name="staffid" th:value="${staff.id}"/> 
                  <div class="form-group">
                    <div class="col-lg-offset-2 col-lg-10">
                      <button class="btn btn-theme" type="submit">Lưu</button>
                      <a class="btn btn-theme04" th:href="@{/admin/staff-viewall}">Hủy</a>
                      <label th:if="${session.containsKey('error')}" th:utext="${session.error}" style="color:red"></label>
                    </div>
                  </div>
                </form>
              </div>
            </div>
			</section>
		</section>
		<th:block th:insert="~{/common-template :: footer-fragment}"></th:block>
		<div th:insert="~{/common-template :: script-fragment}"></div>
		
	</section>
	<script>
	var isChangeState = false;
	$(document).ready(function(){
		  $("input").change(function(){
			  if(!isChangeState){
				  isChangeState=true;}
		  });
		});
	function isFormChange(form){
		if(isChangeState === true){
			form.submit();
			return true;
		}else{
			alert("Chưa có thông tin nào được thay đổi");
			return false;
		}
	}
	</script>
</body>
</html>